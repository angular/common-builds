{"version":3,"sources":["../../../../../modules/@angular/common/src/location/hash_location_strategy.ts"],"names":[],"mappings":"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","file":"hash_location_strategy.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, Optional} from '@angular/core';\n\nimport {isPresent} from '../facade/lang';\n\nimport {Location} from './location';\nimport {APP_BASE_HREF, LocationStrategy} from './location_strategy';\nimport {LocationChangeListener, PlatformLocation} from './platform_location';\n/**\n * \\@whatItDoes Use URL hash for storing application location data.\n * \\@description \n * `HashLocationStrategy` is a {\\@link LocationStrategy} used to configure the\n * {\\@link Location} service to represent its state in the\n * [hash fragment](https://en.wikipedia.org/wiki/Uniform_Resource_Locator#Syntax)\n * of the browser's URL.\n * \n * For instance, if you call `location.go('/foo')`, the browser's URL will become\n * `example.com#/foo`.\n * \n * ### Example\n * \n * {\\@example common/location/ts/hash_location_component.ts region='LocationComponent'}\n * \n * \\@stable\n */\nexport class HashLocationStrategy extends LocationStrategy {\nprivate _baseHref: string = '';\n/**\n * @param {?} _platformLocation\n * @param {?=} _baseHref\n */\nconstructor(\nprivate _platformLocation: PlatformLocation,\n        _baseHref?: string) {\n    super();\n    if (isPresent(_baseHref)) {\n      this._baseHref = _baseHref;\n    }\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: LocationChangeListener): void {\n    this._platformLocation.onPopState(fn);\n    this._platformLocation.onHashChange(fn);\n  }\n/**\n * @return {?}\n */\ngetBaseHref(): string { return this._baseHref; }\n/**\n * @param {?=} includeHash\n * @return {?}\n */\npath(includeHash: boolean = false): string {\n    // the hash value is always prefixed with a `#`\n    // and if it is empty then it will stay empty\n    let /** @type {?} */ path = this._platformLocation.hash;\n    if (!isPresent(path)) path = '#';\n\n    return path.length > 0 ? path.substring(1) : path;\n  }\n/**\n * @param {?} internal\n * @return {?}\n */\nprepareExternalUrl(internal: string): string {\n    const /** @type {?} */ url = Location.joinWithSlash(this._baseHref, internal);\n    return url.length > 0 ? ('#' + url) : url;\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} path\n * @param {?} queryParams\n * @return {?}\n */\npushState(state: any, title: string, path: string, queryParams: string) {\n    let /** @type {?} */ url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));\n    if (url.length == 0) {\n      url = this._platformLocation.pathname;\n    }\n    this._platformLocation.pushState(state, title, url);\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} path\n * @param {?} queryParams\n * @return {?}\n */\nreplaceState(state: any, title: string, path: string, queryParams: string) {\n    let /** @type {?} */ url = this.prepareExternalUrl(path + Location.normalizeQueryParams(queryParams));\n    if (url.length == 0) {\n      url = this._platformLocation.pathname;\n    }\n    this._platformLocation.replaceState(state, title, url);\n  }\n/**\n * @return {?}\n */\nforward(): void { this._platformLocation.forward(); }\n/**\n * @return {?}\n */\nback(): void { this._platformLocation.back(); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: PlatformLocation, },\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APP_BASE_HREF, ] }, ]},\n];\n}\n\nfunction HashLocationStrategy_tsickle_Closure_declarations() {\n/** @type {?} */\nHashLocationStrategy.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nHashLocationStrategy.ctorParameters;\n/** @type {?} */\nHashLocationStrategy.prototype._baseHref;\n/** @type {?} */\nHashLocationStrategy.prototype._platformLocation;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}