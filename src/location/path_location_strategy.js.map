{"version":3,"sources":["../../../../../modules/@angular/common/src/location/path_location_strategy.ts"],"names":[],"mappings":"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","file":"path_location_strategy.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, Injectable, Optional} from '@angular/core';\n\nimport {isBlank} from '../facade/lang';\n\nimport {Location} from './location';\nimport {APP_BASE_HREF, LocationStrategy} from './location_strategy';\nimport {LocationChangeListener, PlatformLocation} from './platform_location';\n/**\n * \\@whatItDoes Use URL for storing application location data.\n * \\@description \n * `PathLocationStrategy` is a {\\@link LocationStrategy} used to configure the\n * {\\@link Location} service to represent its state in the\n * [path](https://en.wikipedia.org/wiki/Uniform_Resource_Locator#Syntax) of the\n * browser's URL.\n * \n * If you're using `PathLocationStrategy`, you must provide a {\\@link APP_BASE_HREF}\n * or add a base element to the document. This URL prefix that will be preserved\n * when generating and recognizing URLs.\n * \n * For instance, if you provide an `APP_BASE_HREF` of `'/my/app'` and call\n * `location.go('/foo')`, the browser's URL will become\n * `example.com/my/app/foo`.\n * \n * Similarly, if you add `<base href='/my/app'/>` to the document and call\n * `location.go('/foo')`, the browser's URL will become\n * `example.com/my/app/foo`.\n * \n * ### Example\n * \n * {\\@example common/location/ts/path_location_component.ts region='LocationComponent'}\n * \n * \\@stable\n */\nexport class PathLocationStrategy extends LocationStrategy {\nprivate _baseHref: string;\n/**\n * @param {?} _platformLocation\n * @param {?=} href\n */\nconstructor(\nprivate _platformLocation: PlatformLocation,\n        href?: string) {\n    super();\n\n    if (isBlank(href)) {\n      href = this._platformLocation.getBaseHrefFromDOM();\n    }\n\n    if (isBlank(href)) {\n      throw new Error(\n          `No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.`);\n    }\n\n    this._baseHref = href;\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nonPopState(fn: LocationChangeListener): void {\n    this._platformLocation.onPopState(fn);\n    this._platformLocation.onHashChange(fn);\n  }\n/**\n * @return {?}\n */\ngetBaseHref(): string { return this._baseHref; }\n/**\n * @param {?} internal\n * @return {?}\n */\nprepareExternalUrl(internal: string): string {\n    return Location.joinWithSlash(this._baseHref, internal);\n  }\n/**\n * @param {?=} includeHash\n * @return {?}\n */\npath(includeHash: boolean = false): string {\n    const /** @type {?} */ pathname = this._platformLocation.pathname +\n        Location.normalizeQueryParams(this._platformLocation.search);\n    const /** @type {?} */ hash = this._platformLocation.hash;\n    return hash && includeHash ? `${pathname}${hash}` : pathname;\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} url\n * @param {?} queryParams\n * @return {?}\n */\npushState(state: any, title: string, url: string, queryParams: string) {\n    const /** @type {?} */ externalUrl = this.prepareExternalUrl(url + Location.normalizeQueryParams(queryParams));\n    this._platformLocation.pushState(state, title, externalUrl);\n  }\n/**\n * @param {?} state\n * @param {?} title\n * @param {?} url\n * @param {?} queryParams\n * @return {?}\n */\nreplaceState(state: any, title: string, url: string, queryParams: string) {\n    const /** @type {?} */ externalUrl = this.prepareExternalUrl(url + Location.normalizeQueryParams(queryParams));\n    this._platformLocation.replaceState(state, title, externalUrl);\n  }\n/**\n * @return {?}\n */\nforward(): void { this._platformLocation.forward(); }\n/**\n * @return {?}\n */\nback(): void { this._platformLocation.back(); }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: PlatformLocation, },\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [APP_BASE_HREF, ] }, ]},\n];\n}\n\nfunction PathLocationStrategy_tsickle_Closure_declarations() {\n/** @type {?} */\nPathLocationStrategy.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPathLocationStrategy.ctorParameters;\n/** @type {?} */\nPathLocationStrategy.prototype._baseHref;\n/** @type {?} */\nPathLocationStrategy.prototype._platformLocation;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}