{"version":3,"sources":["../../../../../modules/@angular/common/src/pipes/date_pipe.ts"],"names":[],"mappings":"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","file":"date_pipe.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Inject, LOCALE_ID, Pipe, PipeTransform} from '@angular/core';\nimport {NumberWrapper} from '../facade/lang';\nimport {DateFormatter} from './intl';\nimport {invalidPipeArgumentError} from './invalid_pipe_argument_error';\n\nconst /** @type {?} */ ISO8601_DATE_REGEX =\n    /^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;\n/**\n * \\@ngModule CommonModule\n * \\@whatItDoes Formats a date according to locale rules.\n * \\@howToUse `date_expression | date[:format]`\n * \\@description \n * \n * Where:\n * - `expression` is a date object or a number (milliseconds since UTC epoch) or an ISO string\n * (https://www.w3.org/TR/NOTE-datetime).\n * - `format` indicates which date/time components to include. The format can be predefined as\n *   shown below or custom as shown in the table.\n *   - `'medium'`: equivalent to `'yMMMdjms'` (e.g. `Sep 3, 2010, 12:05:08 PM` for `en-US`)\n *   - `'short'`: equivalent to `'yMdjm'` (e.g. `9/3/2010, 12:05 PM` for `en-US`)\n *   - `'fullDate'`: equivalent to `'yMMMMEEEEd'` (e.g. `Friday, September 3, 2010` for `en-US`)\n *   - `'longDate'`: equivalent to `'yMMMMd'` (e.g. `September 3, 2010` for `en-US`)\n *   - `'mediumDate'`: equivalent to `'yMMMd'` (e.g. `Sep 3, 2010` for `en-US`)\n *   - `'shortDate'`: equivalent to `'yMd'` (e.g. `9/3/2010` for `en-US`)\n *   - `'mediumTime'`: equivalent to `'jms'` (e.g. `12:05:08 PM` for `en-US`)\n *   - `'shortTime'`: equivalent to `'jm'` (e.g. `12:05 PM` for `en-US`)\n * \n * \n *  | Component | Symbol | Narrow | Short Form   | Long Form         | Numeric   | 2-digit   |\n *  |-----------|:------:|--------|--------------|-------------------|-----------|-----------|\n *  | era       |   G    | G (A)  | GGG (AD)     | GGGG (Anno Domini)| -         | -         |\n *  | year      |   y    | -      | -            | -                 | y (2015)  | yy (15)   |\n *  | month     |   M    | L (S)  | MMM (Sep)    | MMMM (September)  | M (9)     | MM (09)   |\n *  | day       |   d    | -      | -            | -                 | d (3)     | dd (03)   |\n *  | weekday   |   E    | E (S)  | EEE (Sun)    | EEEE (Sunday)     | -         | -         |\n *  | hour      |   j    | -      | -            | -                 | j (13)    | jj (13)   |\n *  | hour12    |   h    | -      | -            | -                 | h (1 PM)  | hh (01 PM)|\n *  | hour24    |   H    | -      | -            | -                 | H (13)    | HH (13)   |\n *  | minute    |   m    | -      | -            | -                 | m (5)     | mm (05)   |\n *  | second    |   s    | -      | -            | -                 | s (9)     | ss (09)   |\n *  | timezone  |   z    | -      | -            | z (Pacific Standard Time)| -  | -         |\n *  | timezone  |   Z    | -      | Z (GMT-8:00) | -                 | -         | -         |\n *  | timezone  |   a    | -      | a (PM)       | -                 | -         | -         |\n * \n * In javascript, only the components specified will be respected (not the ordering,\n * punctuations, ...) and details of the formatting will be dependent on the locale.\n * \n * Timezone of the formatted text will be the local system timezone of the end-user's machine.\n * \n * When the expression is a ISO string without time (e.g. 2016-09-19) the time zone offset is not\n * applied and the formatted text will have the same day, month and year of the expression.\n * \n * WARNINGS:\n * - this pipe is marked as pure hence it will not be re-evaluated when the input is mutated.\n *   Instead users should treat the date as an immutable object and change the reference when the\n *   pipe needs to re-run (this is to avoid reformatting the date on every change detection run\n *   which would be an expensive operation).\n * - this pipe uses the Internationalization API. Therefore it is only reliable in Chrome and Opera\n *   browsers.\n * \n * ### Examples\n * \n * Assuming `dateObj` is (year: 2015, month: 6, day: 15, hour: 21, minute: 43, second: 11)\n * in the _local_ time and locale is 'en-US':\n * \n * ```\n *     {{ dateObj | date }}               // output is 'Jun 15, 2015'\n *     {{ dateObj | date:'medium' }}      // output is 'Jun 15, 2015, 9:43:11 PM'\n *     {{ dateObj | date:'shortTime' }}   // output is '9:43 PM'\n *     {{ dateObj | date:'mmss' }}        // output is '43:11'\n * ```\n * \n * {\\@example common/pipes/ts/date_pipe.ts region='DatePipe'}\n * \n * \\@stable\n */\nexport class DatePipe implements PipeTransform {\n  /** @internal */\n  static _ALIASES: {[key: string]: string} = {\n    'medium': 'yMMMdjms',\n    'short': 'yMdjm',\n    'fullDate': 'yMMMMEEEEd',\n    'longDate': 'yMMMMd',\n    'mediumDate': 'yMMMd',\n    'shortDate': 'yMd',\n    'mediumTime': 'jms',\n    'shortTime': 'jm'\n  };\n/**\n * @param {?} _locale\n */\nconstructor(\nprivate _locale: string) {}\n/**\n * @param {?} value\n * @param {?=} pattern\n * @return {?}\n */\ntransform(value: any, pattern: string = 'mediumDate'): string {\n    let /** @type {?} */ date: Date;\n\n    if (isBlank(value) || value !== value) return null;\n\n    if (typeof value === 'string') {\n      value = value.trim();\n    }\n\n    if (isDate(value)) {\n      date = value;\n    } else if (NumberWrapper.isNumeric(value)) {\n      date = new Date(parseFloat(value));\n    } else if (typeof value === 'string' && /^(\\d{4}-\\d{1,2}-\\d{1,2})$/.test(value)) {\n      /**\n      * For ISO Strings without time the day, month and year must be extracted from the ISO String\n      * before Date creation to avoid time offset and errors in the new Date.\n      * If we only replace '-' with ',' in the ISO String (\"2015,01,01\"), and try to create a new\n      * date, some browsers (e.g. IE 9) will throw an invalid Date error\n      * If we leave the '-' (\"2015-01-01\") and try to create a new Date(\"2015-01-01\") the timeoffset\n      * is applied\n      * Note: ISO months are 0 for January, 1 for February, ...\n      */\n      const [y, m, d] = value.split('-').map((val: string) => parseInt(val, 10));\n      date = new Date(y, m - 1, d);\n    } else {\n      date = new Date(value);\n    }\n\n    if (!isDate(date)) {\n      let /** @type {?} */ match: RegExpMatchArray;\n      if ((typeof value === 'string') && (match = value.match(ISO8601_DATE_REGEX))) {\n        date = isoStringToDate(match);\n      } else {\n        throw invalidPipeArgumentError(DatePipe, value);\n      }\n    }\n\n    return DateFormatter.format(date, this._locale, DatePipe._ALIASES[pattern] || pattern);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Pipe, args: [{name: 'date', pure: true}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [LOCALE_ID, ] }, ]},\n];\n}\n\nfunction DatePipe_tsickle_Closure_declarations() {\n/**\n * \\@internal\n * @type {?}\n */\nDatePipe._ALIASES;\n/** @type {?} */\nDatePipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDatePipe.ctorParameters;\n/** @type {?} */\nDatePipe.prototype._locale;\n}\n\n/**\n * @param {?} obj\n * @return {?}\n */\nfunction isBlank(obj: any): boolean {\n  return obj == null || obj === '';\n}\n/**\n * @param {?} obj\n * @return {?}\n */\nfunction isDate(obj: any): obj is Date {\n  return obj instanceof Date && !isNaN(obj.valueOf());\n}\n/**\n * @param {?} match\n * @return {?}\n */\nfunction isoStringToDate(match: RegExpMatchArray): Date {\n  const /** @type {?} */ date = new Date(0);\n  let /** @type {?} */ tzHour = 0;\n  let /** @type {?} */ tzMin = 0;\n  const /** @type {?} */ dateSetter = match[8] ? date.setUTCFullYear : date.setFullYear;\n  const /** @type {?} */ timeSetter = match[8] ? date.setUTCHours : date.setHours;\n\n  if (match[9]) {\n    tzHour = toInt(match[9] + match[10]);\n    tzMin = toInt(match[9] + match[11]);\n  }\n  dateSetter.call(date, toInt(match[1]), toInt(match[2]) - 1, toInt(match[3]));\n  const /** @type {?} */ h = toInt(match[4] || '0') - tzHour;\n  const /** @type {?} */ m = toInt(match[5] || '0') - tzMin;\n  const /** @type {?} */ s = toInt(match[6] || '0');\n  const /** @type {?} */ ms = Math.round(parseFloat('0.' + (match[7] || 0)) * 1000);\n  timeSetter.call(date, h, m, s, ms);\n  return date;\n}\n/**\n * @param {?} str\n * @return {?}\n */\nfunction toInt(str: string): number {\n  return parseInt(str, 10);\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}