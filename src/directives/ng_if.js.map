{"version":3,"file":"ng_if.js","sourceRoot":"","sources":["../../../../../modules/@angular/common/src/directives/ng_if.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;OAEI,EAAC,SAAS,EAAmB,KAAK,EAAE,WAAW,EAAE,gBAAgB,EAAC,MAAM,eAAe;AAC9F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAwFG;AACH;IAMA;;;OAGG;IACH,cAAoB,cAAgC,EAAE,WAAqC;QAAvE,mBAAc,GAAd,cAAc,CAAkB;QAT5C,aAAQ,GAAgB,IAAI,WAAW,EAAE,CAAC;QAC1C,qBAAgB,GAA6B,IAAI,CAAC;QAClD,qBAAgB,GAA6B,IAAI,CAAC;QAClD,iBAAY,GAAiC,IAAI,CAAC;QAClD,iBAAY,GAAiC,IAAI,CAAC;QAMtD,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC;IACtC,CAAC;IAKH,sBAAI,sBAAI;QAJR;;;WAGG;aACH,UAAS,SAAc;YACnB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;YACpC,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OAAA;IAKH,sBAAI,0BAAQ;QAJZ;;;WAGG;aACH,UAAa,WAAqC;YAC9C,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,CAAE,8BAA8B;YACzD,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OAAA;IAKH,sBAAI,0BAAQ;QAJZ;;;WAGG;aACH,UAAa,WAAqC;YAC9C,IAAI,CAAC,gBAAgB,GAAG,WAAW,CAAC;YACpC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,CAAE,8BAA8B;YACzD,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;;;OAAA;IACH;;OAEG;IACK,0BAAW,GAAnB;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;YAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAC1B,IAAI,CAAC,YAAY;wBACb,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACnF,CAAC;YACH,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;gBAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;gBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;oBAC1B,IAAI,CAAC,YAAY;wBACb,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACnF,CAAC;YACH,CAAC;QACH,CAAC;IACH,CAAC;IACI,eAAU,GAA0B;QAC3C,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAC,QAAQ,EAAE,QAAQ,EAAC,EAAG,EAAE;KAClD,CAAC;IACF,kBAAkB;IACX,mBAAc,GAAmE,cAAM,OAAA;QAC9F,EAAC,IAAI,EAAE,gBAAgB,GAAG;QAC1B,EAAC,IAAI,EAAE,WAAW,GAAG;KACpB,EAH6F,CAG7F,CAAC;IACK,mBAAc,GAA2C;QAChE,MAAM,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC1B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;QAC9B,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC7B,CAAC;IACF,WAAC;AAAD,CAAC,AA5ED,IA4EC;AAED;IACC,gBAAgB;IACjB,IAAI,CAAC,UAAU,CAAC;IACf;;;OAGG;IACJ,IAAI,CAAC,cAAc,CAAC;IACnB,gBAAgB;IACjB,IAAI,CAAC,cAAc,CAAC;IACnB,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;IACvB,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC;IAC/B,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC;IAC/B,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IAC3B,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;IAC3B,gBAAgB;IACjB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC;AAC9B,CAAC;AAGD;IAAA;QACO,cAAS,GAAQ,IAAI,CAAC;IAAC,CAAC;IAAD,kBAAC;AAAD,CAAC,AAD/B,IAC+B;AAE/B;IACC,gBAAgB;IACjB,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC;AAChC,CAAC","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, EmbeddedViewRef, Input, TemplateRef, ViewContainerRef} from '@angular/core';\n/**\n *  Conditionally includes a template based on the value of an `expression`.\n  * *\n  * `ngIf` evaluates the `expression` and then renders the `then` or `else` template in its place\n  * when expression is thruthy or falsy respectively. Typically the:\n  * - `then` template is the inline template of `ngIf` unless bound to a different value.\n  * - `else` template is blank unless its bound.\n  * *\n  * # Most common usage\n  * *\n  * The most common usage of the `ngIf` is to conditionally show the inline template as seen in this\n  * example:\n  * {@example common/ngIf/ts/module.ts region='NgIfSimple'}\n  * *\n  * # Showing an alternative template using `else`\n  * *\n  * If it is necessary to display a template when the `expression` is falsy use the `else` template\n  * binding as shown. Note that the `else` binding points to a `<template>` labeled `#elseBlock`.\n  * The template can be defined anywhere in the component view but is typically placed right after\n  * `ngIf` for readability.\n  * *\n  * {@example common/ngIf/ts/module.ts region='NgIfElse'}\n  * *\n  * # Using non-inlined `then` template\n  * *\n  * Usually the `then` template is the inlined template of the `ngIf`, but it can be changed using\n  * a binding (just like `else`). Because `then` and `else` are bindings, the template references can\n  * change at runtime as shown in thise example.\n  * *\n  * {@example common/ngIf/ts/module.ts region='NgIfThenElse'}\n  * *\n  * # Storing conditional result in a variable\n  * *\n  * A common patter is that we need to show a set of properties from the same object. if the\n  * object is undefined, then we have to use the safe-traversal-operator `?.` to guard against\n  * dereferencing a `null` value. This is especially the case when waiting on async data such as\n  * when using the `async` pipe as shown in folowing example:\n  * *\n  * ```\n  * Hello {{ (userStream|async)?.last }}, {{ (userStream|async)?.first }}!\n  * ```\n  * *\n  * There are several inefficiencies in the above example.\n  * - We create multiple subscriptions on the `userStream`. One for each `async` pipe, or two\n  * as shown in the example above.\n  * - We can not display an alternative screen while waiting for the data to arrive asynchronously.\n  * - We have to use the safe-traversal-operator `?.` to access properties, which is cumbersome.\n  * - We have to place the `async` pipe in parenthesis.\n  * *\n  * A better way to do this is to use `ngIf` and store the result of the condition in a local\n  * variable as shown in the the example below:\n  * *\n  * {@example common/ngIf/ts/module.ts region='NgIfLet'}\n  * *\n  * Notice that:\n  * - We use only one `async` pipe and hence only one subscription gets created.\n  * - `ngIf` stores the result of the `userStream|async` in the local variable `user`.\n  * - The local `user` can than be bound repeatedly in a more efficient way.\n  * - No need to use the safe-traversal-operator `?.` to access properties as `ngIf` will only\n  * display the data if `userStream` returns a value.\n  * - We can display an alternative template while waiting for the data.\n  * *\n  * ### Syntax\n  * *\n  * Simple form:\n  * - `<div *ngIf=\"condition\">...</div>`\n  * - `<div template=\"ngIf condition\">...</div>`\n  * - `<template [ngIf]=\"condition\"><div>...</div></template>`\n  * *\n  * Form with an else block:\n  * ```\n  * <div *ngIf=\"condition; else elseBlock\">...</div>\n  * <template #elseBlock>...</template>\n  * ```\n  * *\n  * Form with a `then` and `else` block:\n  * ```\n  * <div *ngIf=\"condition; then thenBlock else elseBlock\"></div>\n  * <template #thenBlock>...</template>\n  * <template #elseBlock>...</template>\n  * ```\n  * *\n  * Form with storing the value locally:\n  * ```\n  * <div *ngIf=\"condition; else elseBlock; let value\">{{value}}</div>\n  * <template #elseBlock>...</template>\n  * ```\n  * *\n */\nexport class NgIf {\nprivate _context: NgIfContext = new NgIfContext();\nprivate _thenTemplateRef: TemplateRef<NgIfContext> = null;\nprivate _elseTemplateRef: TemplateRef<NgIfContext> = null;\nprivate _thenViewRef: EmbeddedViewRef<NgIfContext> = null;\nprivate _elseViewRef: EmbeddedViewRef<NgIfContext> = null;\n/**\n * @param {?} _viewContainer\n * @param {?} templateRef\n */\nconstructor(private _viewContainer: ViewContainerRef, templateRef: TemplateRef<NgIfContext>) {\n    this._thenTemplateRef = templateRef;\n  }\n/**\n * @param {?} condition\n * @return {?}\n */\nset ngIf(condition: any) {\n    this._context.$implicit = condition;\n    this._updateView();\n  }\n/**\n * @param {?} templateRef\n * @return {?}\n */\nset ngIfThen(templateRef: TemplateRef<NgIfContext>) {\n    this._thenTemplateRef = templateRef;\n    this._thenViewRef = null;  // clear previous view if any.\n    this._updateView();\n  }\n/**\n * @param {?} templateRef\n * @return {?}\n */\nset ngIfElse(templateRef: TemplateRef<NgIfContext>) {\n    this._elseTemplateRef = templateRef;\n    this._elseViewRef = null;  // clear previous view if any.\n    this._updateView();\n  }\n/**\n * @return {?}\n */\nprivate _updateView() {\n    if (this._context.$implicit) {\n      if (!this._thenViewRef) {\n        this._viewContainer.clear();\n        this._elseViewRef = null;\n        if (this._thenTemplateRef) {\n          this._thenViewRef =\n              this._viewContainer.createEmbeddedView(this._thenTemplateRef, this._context);\n        }\n      }\n    } else {\n      if (!this._elseViewRef) {\n        this._viewContainer.clear();\n        this._thenViewRef = null;\n        if (this._elseTemplateRef) {\n          this._elseViewRef =\n              this._viewContainer.createEmbeddedView(this._elseTemplateRef, this._context);\n        }\n      }\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{selector: '[ngIf]'}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ViewContainerRef, },\n{type: TemplateRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'ngIf': [{ type: Input },],\n'ngIfThen': [{ type: Input },],\n'ngIfElse': [{ type: Input },],\n};\n}\n\nfunction NgIf_tsickle_Closure_declarations() {\n /** @type {?} */\nNgIf.decorators;\n /**\n  * @nocollapse\n  * @type {?}\n  */\nNgIf.ctorParameters;\n /** @type {?} */\nNgIf.propDecorators;\n /** @type {?} */\nNgIf.prototype._context;\n /** @type {?} */\nNgIf.prototype._thenTemplateRef;\n /** @type {?} */\nNgIf.prototype._elseTemplateRef;\n /** @type {?} */\nNgIf.prototype._thenViewRef;\n /** @type {?} */\nNgIf.prototype._elseViewRef;\n /** @type {?} */\nNgIf.prototype._viewContainer;\n}\n\n\nexport class NgIfContext {\npublic $implicit: any = null; }\n\nfunction NgIfContext_tsickle_Closure_declarations() {\n /** @type {?} */\nNgIfContext.prototype.$implicit;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}